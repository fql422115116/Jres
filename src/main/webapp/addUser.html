<!DOCTYPE html>
<html>
  <head>
    <title>添加用户</title>
    <meta charset="UTF-8">
    <script type="text/javascript" src="js/basePath.js"></script>
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript">
    	function addUser() {
    		var username = $('#username').val().trim();
    		var password = $('#password').val().trim();
    		if(username.length == 0) {
    			$('#usernameError').html('用户名不能为空');
    			return;
    		}
    		if(password.length < 6) {
    			$('#passwrodError').html('密码不能小于6位');
    			return;
    		}
    		$.ajax({
    			url:basePath + 'user/add.do',
    			method:'post',
    			data:{username:username, password:password},
    			success:function(user) {
    				location.href = 'userList.html';
    			}
    		});
    	}
    	function clearError(e) {
    		$(e).next().html('');
    	}
    </script>
  </head>
  
  <body>
  	<div id="box">
  		<div>
  			<input type="text" id="username" placeholder="用户名"  onfocus="clearError(this)">
  			<span id="usernameError" style="color:red;"></span>
  		</div>
  		<div>
  			<input type="password" id="password" placeholder="密码"  onfocus="clearError(this)">
  			<span id="passwrodError" style="color:red;"></span>
  		</div>
  		<div>
  			<button onclick="addUser();">添加用户</button>
  		</div>
  	</div>
  </body>
</html>

